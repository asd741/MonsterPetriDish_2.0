{"version":3,"sources":["webpack:///./src/components/story/cover.js","webpack:///./src/components/story/page1.js","webpack:///./src/components/story/page2.js","webpack:///./src/components/story/page3.js","webpack:///./src/components/story/page4.js","webpack:///./src/components/story/lastpage.js","webpack:///./src/components/story/book.js","webpack:///./src/pages/story.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/images/r1-l.png","webpack:///./src/images/p1.png","webpack:///./src/images/p2.png","webpack:///./src/images/p3.png","webpack:///./src/images/p4.png","webpack:///./src/images/p5.png","webpack:///./src/images/p6.png","webpack:///./src/images/p7.png","webpack:///./src/images/p8.png"],"names":["Cover","props","react_default","a","createElement","className","src","require","Page1","Page2","Page3","Page4","LastPage","style","top","Book","oWrap","aPage","gap","readingPageIndex","aPageDegs","useEffect","document","getElementsByClassName","length","forEach","call","item","index","d","transform","onmousedown","e","handleTurnPage","ondragstart","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","domObj","vX","touchBeyond","thatDegRedress","that","thatFront","indexOf","sX","clientX","thatdeg","leftBeyond","rightBeyond","isTouchBeyond","handleZ_Index","vMaxDegIndex","vMaxDeg","vDegs","Math","abs","vDeg","i","push","zIndex","indexChange","handleTransition","parseInt","opacity","onmousemove","match","onmouseup","cover","deg","page1","page2","page3","page4","lastpage","Story","layout","story_book","__webpack_require__","__webpack_exports__","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","React","createContext","Consumer","staticQueryData","data","query","render","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","default","Layout","_ref","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_3__","react_helmet__WEBPACK_IMPORTED_MODULE_6__","charSet","rc_queue_anim__WEBPACK_IMPORTED_MODULE_4__","type","key","location","href","to","_public_static_d_755544856_json__WEBPACK_IMPORTED_MODULE_0__","node","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","p"],"mappings":"8HAiBeA,SAfD,SAAAC,GACV,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,QACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,QAE3CL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,QACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,WCMxCC,EAfD,SAAAP,GACV,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,QACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,QAE3CL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,SACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,UCMxCE,EAfD,SAAAR,GACV,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,QAE3CL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,UCMxCG,EAfD,SAAAT,GACV,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,OACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,QAE3CL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,UCMxCI,EAfD,SAAAV,GACV,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,QAE3CL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,SAAd,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,UCIxCK,EAbE,SAAAX,GACb,OACIC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQQ,MAAO,CAACC,IAAI,QAC/BZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,QAE3CL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOQ,MAAO,CAACC,IAAI,QAC9BZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWC,IAAKC,EAAQ,UCwKxCQ,UAxKF,WACX,IAAIC,EAAOC,EAAuBC,EAAiBC,EAAjCC,EAAY,GAE9BC,oBAAU,WACRL,EAAQM,SAASC,uBAAuB,qBAAqB,GAC7DN,EAAQK,SAASC,uBAAuB,QACxCL,EAL6C,IAK9BD,EAAMO,OAAS,GAE9B,GAAGC,QAAQC,KAAKT,EAAO,SAACU,EAAMC,GAE5B,IAAMC,IAAMZ,EAAMO,OAAS,EAAII,GAASV,EACxCE,EAAUQ,GAASC,EACnBF,EAAKd,MAAMiB,UAAX,WAAkCD,EAAlC,OACAF,EAAKI,YAAc,SAAAC,GAAC,OAAIC,EAAeD,EAAGL,MAE5CX,EAAMkB,YAAc,WAAQ,OAAO,GACnCC,OAAOC,sBAAwBD,OAAOC,uBAAyBD,OAAOE,0BACpEF,OAAOG,6BAA+BH,OAAOI,0BAEjD,IAAIN,EAAiB,SAACD,EAAGQ,GACvB,IAIEC,EAIAC,EACAC,EATEC,EAAOJ,EACTK,EAAUD,EAAKrB,uBAAuB,SAAS,GAC/CK,EAAQ,GAAGkB,QAAQpB,KAAKT,EAAO2B,GAC/BG,EAAKf,EAAEgB,QAEPC,EAAU7B,EAAUQ,GACpBsB,EAAa9B,EAAUQ,EAAQ,KAAO,IACtCuB,EAAc/B,EAAUQ,EAAQ,IAAM,EAGtCwB,EAAgB,WAId,OAAKH,EAAU/B,EAAOgC,GACpBP,EAAiB,WACfM,EAAUC,EAAahC,EACvB0B,EAAK/B,MAAMiB,UAAX,WAAkCmB,EAAlC,MACA7B,EAAUQ,GAASqB,QAErBP,GAAc,IAGXO,EAAU/B,EAAOiC,GACpBR,EAAiB,WACfM,EAAUE,EAAcjC,EACxB0B,EAAK/B,MAAMiB,UAAX,WAAkCmB,EAAlC,MACA7B,EAAUQ,GAASqB,QAErBP,GAAc,SAGhBA,GAAc,IA0BhBW,EAAgB,WAed,IAAIC,EAAcC,EAAU,EAAEC,EAAM,GACpC,GAAIC,KAAKC,IAAItC,EAAUA,EAAUI,OAAS,IAAM,GAC9C8B,EAAerC,EAAMO,OAAS,OAC1B,GAAGiC,KAAKC,IAAItC,EAAU,IAAM,GAChCkC,EAAe,OAEf,IAAK,IAAUK,EAANC,EAAI,EAAQA,EAAIxC,EAAUI,OAAS,EAAGoC,IAC7CD,EAAOF,KAAKC,IAAItC,EAAUwC,GAAKxC,EAAUwC,EAAI,IAC7CJ,EAAMK,KAAKF,GACPJ,EAAUI,IACZL,EAAeM,EACfL,EAAUI,GAIZxC,IAAqBmC,GAtDb,SAAAnC,GAGZ,GAAyB,IAArBA,EAMJ,GAAIA,GAAoBF,EAAMO,OAAS,EACrC,IAAK,IAAIoC,EAAI,EAAG3C,EAAMA,EAAMO,OAASoC,GAAIA,IACvC3C,EAAMA,EAAMO,OAASoC,GAAG/C,MAAMiD,OAAS7C,EAAMO,OAASoC,MAF1D,CAOA,IAAK,IAAIA,EAAI,EAAG3C,EAAME,EAAmByC,GAAIA,IAC3C3C,EAAME,EAAmByC,GAAG/C,MAAMiD,OAAS7C,EAAMO,OAASoC,EAE5DzC,GAAoB,EACpB,IAAK,IAAIyC,EAAI,EAAG3C,EAAME,EAAmByC,GAAIA,IAC3C3C,EAAME,EAAmByC,GAAG/C,MAAMiD,OAAS7C,EAAMO,OAASoC,OAjB1D,IAAK,IAAIA,EAAI,EAAG3C,EAAME,EAAmByC,GAAIA,IAC3C3C,EAAME,EAAmByC,GAAG/C,MAAMiD,OAAS7C,EAAMO,OAASoC,EAmD5DG,CADA5C,EAAmBmC,IAIvBU,EAAmB,SAAnBA,KACsB,IAAhBtB,GAAyBe,KAAKC,IAAIjB,IAAO,IAC3CgB,KAAKC,IAAID,KAAKC,IAAIT,GAAW,IAAM,GAAKR,GAAM,KAAOA,GAAM,IAC3DQ,EAAUgB,SAAShB,EAAgB,GAALR,GAC9BG,EAAK/B,MAAMiB,UAAX,WAAkCmB,EAAlC,MACA7B,EAAUQ,GAASqB,EACnBQ,KAAKC,IAAIT,GAAS,GAAGJ,EAAUhC,MAAMqD,QAAQ,EAAErB,EAAUhC,MAAMqD,QAAQ,EACvE9B,sBAAsB4B,KAEJ,IAAhBtB,GACFC,IAEFS,IACAC,KAEJrC,EAAMmD,YAAc,SAAAnC,IACE,IAAhBU,IACFD,GAAMM,EAAKf,EAAEgB,SAAW,EACxBC,EAAUgB,SAASrB,EAAK/B,MAAMiB,UAAUsC,MAAM,SAAS,GAAK3B,GAC5DG,EAAK/B,MAAMiB,UAAX,WAAkCmB,EAAlC,MACAQ,KAAKC,IAAIT,GAAS,GAAGJ,EAAUhC,MAAMqD,QAAQ,EAAErB,EAAUhC,MAAMqD,QAAQ,EACvE9C,EAAUQ,GAASqB,EACnBF,EAAKf,EAAEgB,UAEW,IAAhBN,IACFD,EAAK,EACLE,KAEFS,IACAC,KAEFrC,EAAMqD,UAAY,WACZ,GAAKZ,KAAKC,IAAIT,GAAW,KAAOQ,KAAKC,IAAIjB,IAAO,IAClDA,GAAM,GAERzB,EAAMmD,YAAc,KAChBV,KAAKC,IAAIjB,IAAO,GAClBL,sBAAsB4B,KAK5B,OACE9D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAACkE,EAAD,CAAOC,IAAKnD,EAAU,KACtBlB,EAAAC,EAAAC,cAACoE,EAAD,CAAOD,IAAKnD,EAAU,KACtBlB,EAAAC,EAAAC,cAACqE,EAAD,MACAvE,EAAAC,EAAAC,cAACsE,EAAD,MACAxE,EAAAC,EAAAC,cAACuE,EAAD,MACAzE,EAAAC,EAAAC,cAACwE,EAAD,UCnKOC,UAND,kBACV3E,EAAAC,EAAAC,cAAC0E,EAAA,EAAD,KACI5E,EAAAC,EAAAC,cAAC2E,EAAD,0CCLRC,EAAAnD,EAAAoD,EAAA,sBAAAC,IAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,GAAAO,EAAAP,EAAAK,EAAAC,GAAAE,EAAAR,EAAA,IAAAS,EAAAT,EAAAK,EAAAG,GAAAR,EAAAnD,EAAAoD,EAAA,sBAAAQ,EAAAtF,IAAA6E,EAAA,SAYMU,EAAqBC,IAAMC,cAAc,IAEzCV,EAAc,SAAAjF,GAAK,OACvBmF,EAAAjF,EAAAC,cAACsF,EAAmBG,SAApB,KACG,SAAAC,GACC,OACE7F,EAAM8F,MACLD,EAAgB7F,EAAM+F,QAAUF,EAAgB7F,EAAM+F,OAAOD,MAEtD9F,EAAMgG,QAAUhG,EAAMiG,UAC5BjG,EAAM8F,KAAO9F,EAAM8F,KAAKA,KAAOD,EAAgB7F,EAAM+F,OAAOD,MAGvDX,EAAAjF,EAAAC,cAAA,uCA4Bf8E,EAAYiB,UAAY,CACtBJ,KAAMK,IAAUC,OAChBL,MAAOI,IAAUE,OAAOC,WACxBN,OAAQG,IAAUI,KAClBN,SAAUE,IAAUI,2BCzDtB,IAAsBC,EAKpBC,EAAOC,SALaF,EAKWlG,EAAQ,OALRkG,EAAEG,SAAYH,qHCYzCI,EAAS,SAAAC,GAAA,IAAGZ,EAAHY,EAAGZ,SAAH,OACba,EAAA5G,EAAAC,cAAC4G,EAAA,EAAD,CACEhB,MAAK,YASLC,OAAQ,SAAAF,GACN,OAEIgB,EAAA5G,EAAAC,cAAA,OAAKC,UAAU,MACb0G,EAAA5G,EAAAC,cAAC6G,EAAA,OAAD,KACEF,EAAA5G,EAAAC,cAAA,QAAM8G,QAAQ,UACdH,EAAA5G,EAAAC,cAAA,yBAEF2G,EAAA5G,EAAAC,cAAC+G,EAAA,EAAD,CAAWC,KAAK,SACdL,EAAA5G,EAAAC,cAAA,OACEC,UAAU,eACVgH,IAAsB,oBAAVlF,QAAyBA,OAAOmF,SAASC,MAEpDrB,IAGLa,EAAA5G,EAAAC,cAAA,OAAKC,UAAU,UACb0G,EAAA5G,EAAAC,cAAC4G,EAAA,EAAD,CAAMQ,GAAG,IAAInH,UAAU,cAAvB,MAGA0G,EAAA5G,EAAAC,cAAC4G,EAAA,EAAD,CAAMQ,GAAG,SAASnH,UAAU,cAA5B,MAGA0G,EAAA5G,EAAAC,cAAC4G,EAAA,EAAD,CAAMQ,GAAG,QAAQnH,UAAU,aAA3B,MAGA0G,EAAA5G,EAAAC,cAAC4G,EAAA,EAAD,CAAMQ,GAAG,YAAYnH,UAAU,iBAA/B,MAGA0G,EAAA5G,EAAAC,cAAC4G,EAAA,EAAD,CAAMQ,GAAG,SAASnH,UAAU,cAA5B,SAvCZ0F,KAAA0B,KAkDFZ,EAAOV,UAAY,CACjBD,SAAUE,IAAUsB,KAAKnB,YAEZM,iMC5DTc,EAAmB,SAAAb,GAAkB,IAAfQ,EAAeR,EAAfQ,SACpBM,EAAgBC,UAAOC,4BAA4BR,EAASS,UAClE,OAAOpC,IAAMvF,cAAc4H,IAApBC,OAAAC,OAAA,CACLZ,WACAM,iBACGA,EAAcO,QAIrBR,EAAiBxB,UAAY,CAC3BmB,SAAUlB,IAAUgC,MAAM,CACxBL,SAAU3B,IAAUE,OAAOC,aAC1BA,YAGUoB,iCCrBfjB,EAAAC,QAAiB3B,EAAAqD,EAAuB,wECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB,sECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB,sECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB,sECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB,sECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB,sECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB,sECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB,sECAxC3B,EAAAC,QAAiB3B,EAAAqD,EAAuB","file":"component---src-pages-story-js-b6ccd5a6cbcedd4f0aed.js","sourcesContent":["import React from 'react';\n\nconst Cover = props => {\n    return (\n        <div className='cover page'>\n            <div className='front' >\n                <h2 className='title'>遊戲手冊</h2>\n                <img className='coverImg' src={require('../../images/r1-l.png')}></img>\n            </div>\n            <div className='back'>\n                <h2 className='title'>遊戲手冊</h2>\n                <img className='coverImg' src={require('../../images/r1-l.png')}></img>\n            </div>\n        </div>\n    );\n}\n\nexport default Cover;","import React from 'react';\n\nconst Page1 = props => {\n    return (\n        <div className='page1 page'>\n            <div className='front'>\n                <h3 className='title'>開始畫面</h3>\n                <img className='startImg' src={require('../../../images/p1.png')}></img>\n            </div>\n            <div className='back'>\n                <h3 className='title'>遊戲主畫面</h3>\n                <img className='startImg' src={require('../../../images/p2.png')}></img>\n            </div>\n        </div>\n    );\n}\n\nexport default Page1;\n","import React from 'react';\n\nconst Page2 = props => {\n    return (\n        <div className='page2 page'>\n            <div className='front'>\n                <h3 className='title'>選單</h3>\n                <img className='startImg' src={require('../../../images/p3.png')}></img>\n            </div>\n            <div className='back'>\n                <h3 className='title'>設定</h3>\n                <img className='startImg' src={require('../../../images/p4.png')}></img>\n            </div>\n        </div>\n    );\n}\n\nexport default Page2;","import React from 'react';\n\nconst Page3 = props => {\n    return (\n        <div className='page3 page'>\n            <div className='front'>\n                <h3 className='title'>物品欄</h3>\n                <img className='startImg' src={require('../../../images/p5.png')}></img>\n            </div>\n            <div className='back'>\n                <h3 className='title'>道具</h3>\n                <img className='startImg' src={require('../../../images/p6.png')}></img>\n            </div>\n        </div>\n    );\n}\n\nexport default Page3;","import React from 'react';\n\nconst Page4 = props => {\n    return (\n        <div className='page4 page'>\n            <div className='front'>\n                <h3 className='title'>角色</h3>\n                <img className='startImg' src={require('../../../images/p7.png')}></img>\n            </div>\n            <div className='back'>\n                <h3 className='title'>副本</h3>\n                <img className='startImg' src={require('../../../images/p8.png')}></img>\n            </div>\n        </div>\n    );\n}\n\nexport default Page4;","import React from 'react';\n\nconst LastPage = props => {\n    return (\n        <div className='last-page page'>\n            <div className='front' style={{top:'50%'}}>\n                <img className='coverImg' src={require('../../images/r1-l.png')}></img>\n            </div>\n            <div className='back' style={{top:'50%'}}>\n                <img className='coverImg' src={require('../../images/r1-l.png')}></img>\n            </div>\n        </div>\n    );\n}\n\nexport default LastPage;","import React, { useEffect, useState } from \"react\";\nimport Cover from './cover';\nimport Page1 from './page1';\nimport Page2 from './page2';\nimport Page3 from './page3';\nimport Page4 from './page4';\nimport LastPage from './lastpage';\nimport \"./book.sass\";\n// import { Toast } from \"antd-mobile\";\nconst Book = () => {\n  let oWrap, aPage, aPageDegs = [], gap, space = 25, readingPageIndex;\n\n  useEffect(() => {//角度與層級初始化\n    oWrap = document.getElementsByClassName('book-page-wrapper')[0];\n    aPage = document.getElementsByClassName('page');\n    gap = space / (aPage.length - 1);//最後一頁是0度、其他均分度數\n    //length=5  index=01234  gap*4  gap*3 gap*2 gap*1 gap*0\n    [].forEach.call(aPage, (item, index) => {\n      // item.style.zIndex = aPage.length - index;\n      const d = -(aPage.length - 1 - index) * gap;\n      aPageDegs[index] = d;\n      item.style.transform = `rotateY(${d}deg)`;\n      item.onmousedown = e => handleTurnPage(e, item);\n    })\n    oWrap.ondragstart = () => { return false };\n    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n  })\n  let handleTurnPage = (e, domObj) => {\n    let that = domObj,\n      thatFront=that.getElementsByClassName('front')[0],\n      index = [].indexOf.call(aPage, that),\n      sX = e.clientX,\n      vX,\n      thatdeg = aPageDegs[index],\n      leftBeyond = aPageDegs[index - 1] || -180,\n      rightBeyond = aPageDegs[index + 1] || 0,\n      touchBeyond,\n      thatDegRedress,\n      isTouchBeyond = () => {//判斷是否摸到隔壁的紙，摸到的話就禁止繼續移動\n        //-175  -170  -165\n        //gap=5  thatdeg=-170\n        //-170-5=-175   -170+5=-165\n        if ((thatdeg - gap) < leftBeyond) {\n          thatDegRedress = () => {\n            thatdeg = leftBeyond + gap;\n            that.style.transform = `rotateY(${thatdeg}deg`;\n            aPageDegs[index] = thatdeg;\n          }\n          touchBeyond = true;\n          return;\n        }\n        if ((thatdeg + gap) > rightBeyond) {\n          thatDegRedress = () => {\n            thatdeg = rightBeyond - gap;\n            that.style.transform = `rotateY(${thatdeg}deg`;\n            aPageDegs[index] = thatdeg;\n          }\n          touchBeyond = true;\n          return;\n        }\n        touchBeyond = false;\n      },\n      indexChange = readingPageIndex => {\n        //一般看書的時候有兩頁都是最高層級(1 2 3 3 2 1)(單位:zIndex)\n        //除非正在看第一頁(6 5 4 3 2 1)或最後一頁(1 2 3 4 5 6)(單位:zIndex)\n        if (readingPageIndex === 0) {//正在看第一頁\n          for (let i = 0; aPage[readingPageIndex + i]; i++) {//右頁以右，層級遞減\n            aPage[readingPageIndex + i].style.zIndex = aPage.length - i;\n          }\n          return;\n        }\n        if (readingPageIndex >= aPage.length - 2) {//正在看最後一頁\n          for (let i = 1; aPage[aPage.length - i]; i++) {//左頁以左，層級遞減\n            aPage[aPage.length - i].style.zIndex = aPage.length - i;\n          }\n          return;\n        }\n        //正在書的中間(有兩個最高層級，左頁和右頁)\n        for (let i = 0; aPage[readingPageIndex - i]; i++) {//左頁以左，層級遞減\n          aPage[readingPageIndex - i].style.zIndex = aPage.length - i;\n        }\n        readingPageIndex += 1;//最高層級從左頁設定到右頁\n        for (let i = 0; aPage[readingPageIndex + i]; i++) {//右頁以右，層級遞減\n          aPage[readingPageIndex + i].style.zIndex = aPage.length - i;\n        }\n      },\n      handleZ_Index = () => {\n        // let vMaxDegIndex, vMaxDeg = 0, vDeg = 0;\n        // for (let i = 0; i < aPageDegs.length - 1; i++) {\n        //   vDeg = Math.abs(aPageDegs[i] - aPageDegs[i + 1]);\n        //   if (vMaxDeg < vDeg) {\n        //     vMaxDegIndex = i;\n        //     vMaxDeg = vDeg;\n        //   }\n        // }\n        // if (Math.abs(aPageDegs[0]) < 90) {\n        //   vMaxDegIndex = 0;\n        // }\n        // if (Math.abs(aPageDegs[aPageDegs.length - 1]) > 90) {\n        //   vMaxDegIndex = aPage.length - 2;\n        // }\n        let vMaxDegIndex, vMaxDeg = 0,vDegs=[];\n        if (Math.abs(aPageDegs[aPageDegs.length - 1]) > 90) {//如果看的是第一頁\n          vMaxDegIndex = aPage.length - 2;\n        }else if(Math.abs(aPageDegs[0]) < 90){//如果看的是最後一頁\n          vMaxDegIndex = 0;\n        }else{//看的是中間的頁數\n          for (let i = 0,vDeg; i < aPageDegs.length - 1; i++) {\n            vDeg = Math.abs(aPageDegs[i] - aPageDegs[i + 1]);\n            vDegs.push(vDeg);\n            if (vMaxDeg < vDeg) {\n              vMaxDegIndex = i;\n              vMaxDeg = vDeg;\n            }\n          }\n        }\n        if (readingPageIndex !== vMaxDegIndex) {\n          readingPageIndex = vMaxDegIndex;\n          indexChange(readingPageIndex);\n        }\n      },\n      handleTransition = () => {\n        if (touchBeyond === false && Math.abs(vX) >= 1) {\n          Math.abs(Math.abs(thatdeg) - 90) < 20 ? vX *= 1.05 : vX *= 0.95;//兩個abs是解決90度左右很難翻頁的問題，然後*=是做受力運動\n          thatdeg = parseInt(thatdeg - (vX * 0.5));\n          that.style.transform = `rotateY(${thatdeg}deg`;\n          aPageDegs[index] = thatdeg;\n          Math.abs(thatdeg)>90?thatFront.style.opacity=0:thatFront.style.opacity=1;\n          requestAnimationFrame(handleTransition);\n        }\n        if (touchBeyond === true) {\n          thatDegRedress();\n        }\n        isTouchBeyond();\n        handleZ_Index();\n      }\n    oWrap.onmousemove = e => {\n      if (touchBeyond === false) {\n        vX = (sX - e.clientX) / 3;\n        thatdeg = parseInt(that.style.transform.match(/-?\\d+/)[0] - vX);\n        that.style.transform = `rotateY(${thatdeg}deg`;\n        Math.abs(thatdeg)>90?thatFront.style.opacity=0:thatFront.style.opacity=1;\n        aPageDegs[index] = thatdeg;\n        sX = e.clientX;\n      }\n      if (touchBeyond === true) {\n        vX = 0;\n        thatDegRedress();\n      }\n      isTouchBeyond();\n      handleZ_Index();\n    }\n    oWrap.onmouseup = () => {\n      if (80 < Math.abs(thatdeg) < 100 && Math.abs(vX) <= 1) {\n        vX += 2;\n      }\n      oWrap.onmousemove = null;\n      if (Math.abs(vX) >= 1) {\n        requestAnimationFrame(handleTransition);\n      }\n    }\n  }\n\n  return (\n    <div className='book-page-wrapper'>\n      <div className='book'>\n        <Cover deg={aPageDegs[0]}/>\n        <Page1 deg={aPageDegs[1]}/>\n        <Page2 />\n        <Page3 />\n        <Page4 />\n        <LastPage />\n      </div>\n    </div>\n  );\n}\nexport default Book;\n","import React from \"react\"\r\nimport Layout from \"../components/layout\"\r\nimport Book from '../components/story/book'\r\nconst Story = () => (\r\n    <Layout>\r\n        <Book/>\r\n    </Layout>\r\n)\r\n\r\nexport default Story\r\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { StaticQuery, graphql } from \"gatsby\";\n// import { Provider } from \"react-redux\";\n// import { createStore } from \"redux\";\n// import { reducers } from \"../redux/reducers\";\nimport { Link } from \"gatsby\";\nimport QueueAnim from \"rc-queue-anim\";\n// import axios from \"axios\";\nimport \"./layout.sass\";\nimport { Helmet } from \"react-helmet\";\n// let store = createStore(reducers);\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => {\n      return (\n        // <Provider>\n          <div className='bg'>\n            <Helmet>\n              <meta charSet=\"utf-8\" />\n              <title>魔物培養皿官網</title>\n            </Helmet>\n            <QueueAnim type=\"scale\">\n              <div\n                className=\"page-wrapper\"\n                key={typeof window != \"undefined\" && window.location.href}\n              >\n                {children}\n              </div>\n            </QueueAnim>\n            <nav className=\"navbar\">\n              <Link to=\"/\" className=\"index-link\">\n                大廳\n              </Link>\n              <Link to=\"/story\" className=\"story-link\">\n                故事\n              </Link>\n              <Link to=\"/role\" className=\"role-link\">\n                角色\n              </Link>\n              <Link to=\"/download\" className=\"download-link\">\n                下載\n              </Link>\n              <Link to=\"/other\" className=\"other-link\">\n                其他\n              </Link>\n            </nav>\n          </div>\n        // </Provider>\n      );\n    }}\n  />\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default Layout;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","module.exports = __webpack_public_path__ + \"static/r1-l-171dd16ea072e37483075832bfebabdb.png\";","module.exports = __webpack_public_path__ + \"static/p1-1519e03d44ee58cf87010e5247d72aa6.png\";","module.exports = __webpack_public_path__ + \"static/p2-c85caf64b520d93e04e66b27f52099c9.png\";","module.exports = __webpack_public_path__ + \"static/p3-0a3320d85ef0baac04094b9460387b04.png\";","module.exports = __webpack_public_path__ + \"static/p4-cf9938dbfdc93c0e685e2c659f9064e6.png\";","module.exports = __webpack_public_path__ + \"static/p5-e128a05d830f7f5a6529d50a18d5e7a0.png\";","module.exports = __webpack_public_path__ + \"static/p6-09a397c8b15fd8b53ad6c278c020aff4.png\";","module.exports = __webpack_public_path__ + \"static/p7-f25a46bb3c876b718a83ae53b3ccbb69.png\";","module.exports = __webpack_public_path__ + \"static/p8-7c3e6d5008c00ce87218ff929fff2951.png\";"],"sourceRoot":""}